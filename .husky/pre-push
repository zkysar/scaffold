#!/usr/bin/env sh
. "$(dirname "$0")/_/husky.sh"

# Run all tests including Docker integration tests
echo "Running all tests before push..."

# Run unit tests
npm run test:unit

# Run integration tests in Docker
echo "Running Docker integration tests..."
docker compose --profile test-integration up --abort-on-container-exit --exit-code-from test-integration

echo "All tests passed!"