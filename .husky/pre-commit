#!/usr/bin/env sh
. "$(dirname "$0")/_/husky.sh"

# Silently refresh burndown statistics and auto-remove passing tests
BURNDOWN_SILENT=true node scripts/burndown.js refresh --silent

# Run lint-staged with burndown configuration
npx lint-staged --config .lintstagedrc.burndown.js

# Run tests with burndown blocklist (only non-blocked tests)
npm test -- --config=jest.config.burndown.js --maxWorkers=2
